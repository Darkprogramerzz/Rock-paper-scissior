<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="Game">
        <p class="heading">Rock Paper Scissors</p>
        <div class="MoveButtons">
            <button  onclick="PlayGame('👊')" class="Moves">👊</button>
            <button onclick="PlayGame('🖐')" class="Moves">🖐</button>
            <button onclick="PlayGame('✌️')" class="Moves">✌️</button>
        </div>    
        <p class="Winner"></p>
    
        <p class="PlayerComputerMove"></p>
    
        <p class="score_board"></p>
        <div class="FunctionalButtons">
            <button onclick="score.Wins = 0;
            score.lost = 0;
            score.Tie = 0;
            localStorage.removeItem('score');
            UpdateScore();
            " class="ResetButton">Reset Score</button>
        </div>
    </div>

    <script>
        let score = JSON.parse(localStorage.getItem('score'));
        if(score === null){
            score ={
                Wins:0,
                lost:0,
                Tie:0
            }
        }
        UpdateScore();

        function PlayGame(PlayerMove){
            const computerMove = ComputersMove();
            let result = '';

            if(PlayerMove === "👊"){
                
                if (computerMove === '👊'){
                    result = 'Tie';
                } else if (computerMove === '🖐'){
                    result = 'You lose';
                }else if (computerMove === '✌️'){
                    result = 'You win';
                }
            }
            if(PlayerMove === "🖐"){
                
                if (computerMove === '👊'){
                    result = 'You win';
                } else if (computerMove === '🖐'){
                    result = 'Tie';
                }else if (computerMove === '✌️'){
                    result = 'You lose';
                }
             }
             if(PlayerMove === "✌️"){
                
                if (computerMove === '👊'){
                    result = 'You lose';
                } else if (computerMove === '🖐'){
                    result = 'You win';
                }else if (computerMove === '✌️'){
                    result = 'Tie';
                }
              }
              if(result === 'You win'){
                score.Wins += 1;
              }
              if(result === 'You lose'){
                score.lost += 1;
              }
              if(result === 'Tie'){
                score.Tie += 1;
              }
              
              UpdateScore();

              localStorage.setItem('score',JSON.stringify(score))

              document.querySelector('.Winner')
              .innerHTML = result;

              document.querySelector('.PlayerComputerMove')
              .innerHTML = 'You'+ PlayerMove + computerMove+ ' Computer';
     
        } 
        function UpdateScore(){
            document.querySelector('.score_board')
            .innerHTML = " Wins: " +score.Wins+' Lost: '+score.lost+' Ties: '+score.Tie;
        }

        function ComputersMove(){

            const randomNumber = Math.random();
            let computerMove = '';
            if (randomNumber >= 0 && randomNumber < 1 / 3) {
                computerMove = '👊';
            } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
                computerMove = '🖐';
            } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
                computerMove = '✌️';
            }
            console.log(computerMove)
            return computerMove;
        }
    </script>

</body>
</html>